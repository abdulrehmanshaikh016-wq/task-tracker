<form [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()" class="login-form-container">
  <h2 class="login-header">Login</h2>

  <!-- Hidden username for password managers (optional but recommended) -->
  <input type="text" name="username" autocomplete="username" style="position:absolute; left:-9999px;" tabindex="-1" />

  <div class="tt-input-container">
    <label for="username" class="tt-label">Username</label>
    <input id="username" name="username" type="username" formControlName="username" class="tt-input" autocomplete="username" />
    @if (loginUsernameControl.dirty && loginUsernameControl.errors) {
      <div class="error">
        @if (loginUsernameControl.errors['required']) {}
        <span>Username is required</span>
      </div>
    }
  </div>

  <div class="tt-input-container">
    <label for="password" class="tt-label">Password</label>
    <input  id="password" name="password" type="password" formControlName="password" class="tt-input" autocomplete="current-password" />
    @if (getPasswordError()) {
      <div class="error">
        <span>{{getPasswordError()}}</span>
      </div>
    }
  </div>

  <button type="submit" [disabled]="isLoggingInUser" class="form-submit-button login-button">
    <span *ngIf="!isLoggingInUser">Login</span>
    <span *ngIf="isLoggingInUser">
      <i class="fas fa-spinner fa-spin"></i>
    </span>
  </button>

  <div class="signup-container">
    Not a user yet? <span class="signup-link">Create an account</span>
  </div>
</form>